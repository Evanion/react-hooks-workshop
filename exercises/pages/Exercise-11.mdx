---
name: Ex. 11 - Keyboard Shortcuts
order: 11
---

# Ex. 11 - Keyboard Shortcuts

## Instructions

We now want to create a Hook to react to a keyboard shortcut. Thanks to this hook we will be able to focus on the search field when the user presses the "ALT" and "F" keys simultaneously.

To make such a complex Hook, we need several things:

- Respond to "keydown" and "keyup" events of `window`
- Keep track of active keys
- Trigger a function when the active keys are those specified in the shortcut

So we will break down the work:

### A `useEventListener` hook

```js
function Example() {
  useEventListener(window, 'keydown', e => {
    console.log('A key is down:', e.keyCode)
  })
}
```

### A `useActiveKeys` hook

```js
function Example() {
  const activeKeys = useActiveKeys()
  // Display the keys pressed by the user
  console.log(activeKeys)
}
```

### A `getShortcutKeys` function

```js
const shortcutKeys = getShortcutKeys('alt+f')
// [18, 70]
```

### A `useShortcutEffect` hook

```js
function Example() {
  useShortcutEffect('alt+f', () => {
    // The reaction to the shortcut "ALT" + "F"
  })
}
```

### Expected result

When I press the "ALT" and "F" keys simultaneously, the search field is focus.

<iframe
  src="https://codesandbox.io/embed/github/smooth-code/react-hooks-workshop/tree/end-exercise-11/?fontsize=14&view=preview"
  style={{
    width: '100%',
    height: 500,
    border: 0,
    borderRadius: 4,
    overflow: 'hidden',
  }}
  sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
/>

## Help

### Using a function in a `useEffect`

```js
function useMountEffect(effect) {
  const effectRef = useRef()
  effectRef.current = effect

  useEffect(() => {
    effectRef.current()
  }, [effectRef])
}
```
